(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{127:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(33),o=a.n(l),c=(a(72),a(17)),s=a(11),i=a(12),u=a(14),m=a(13),p=a(6),h=a(15),b=(a(42),a(73),a(10)),d=a(24),f=a(2),g=a.n(f),E=a(21),v=a.n(E),y=a(22),O=a.n(y),j=a(8),w=a.n(j),C=a(29),k=a.n(C),S=a(36),P=a.n(S),B=a(34),N=a.n(B),D=N.a.create({baseURL:"/api/beer"}),U=a(27),V=a.n(U);function x(e){var t=e.beer;return r.a.createElement("div",null," ",r.a.createElement(V.a,{bg:"light",style:{width:"20rem"},className:"shadow m-2"},r.a.createElement(V.a.Header,null,r.a.createElement("span",null,t.type," - ",t.style)),r.a.createElement(V.a.Body,null,r.a.createElement(V.a.Title,null,r.a.createElement(b.b,{to:"/beer/".concat(t._id)},t.name)),r.a.createElement(V.a.Text,null,t.description)),r.a.createElement(V.a.Footer,null,t.abv," - ",t.country)))}var q=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={beers:null,beerSearch:"",beerName:""},e.onValueChange=e.onValueChange.bind(Object(p.a)(e)),e.loadByTypes=e.loadByTypes.bind(Object(p.a)(e)),e}return Object(h.a)(t,e),Object(i.a)(t,[{key:"onValueChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(c.a)({},t,a))}},{key:"loadBeers",value:function(){var e=this;new Promise((function(e,t){D.get("/all").then((function(t){e(t.data.beers)})).catch((function(e){t(e)}))})).then((function(t){return e.setState({beers:t})})).catch((function(e){return console.log(e)}))}},{key:"loadByTypes",value:function(e){var t,a=this;e.preventDefault(),(t=this.state.beerSearch,new Promise((function(e,a){D.post("/type/".concat(t)).then((function(t){e(t.data.beers)})).catch((function(e){a(e)}))}))).then((function(e){return a.setState({beers:e})})).catch((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){this.loadBeers()}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"header-bg"},r.a.createElement("h1",{className:"header-text"},"BOLD's Beer Cellar")),r.a.createElement(k.a,null,r.a.createElement(O.a,{className:"py-5"},r.a.createElement(w.a,{sm:1}),r.a.createElement(w.a,{sm:5},r.a.createElement(g.a,{inline:!0,onSubmit:this.loadByTypes},r.a.createElement(g.a.Control,{as:"select",name:"beerSearch",required:!0,onChange:this.onValueChange,value:this.state.beerSearch},r.a.createElement("option",null,"Type..."),r.a.createElement("option",null,"Ale"),r.a.createElement("option",null,"Lager"),r.a.createElement("option",null,"Malt"),r.a.createElement("option",null,"Stout")),r.a.createElement(v.a,{type:"submit",className:"btn ml-2 shadow"},"Find by type!"))),r.a.createElement(w.a,{sm:1}),r.a.createElement(w.a,{sm:5},r.a.createElement(g.a,{inline:!0,onSubmit:this.loadByTypes},r.a.createElement(g.a.Control,{as:"select",name:"beerSearch",required:!0,onChange:this.onValueChange,value:this.state.beerSearch},r.a.createElement("option",null,"Style..."),r.a.createElement("option",null," Amber"),r.a.createElement("option",null,"Blonde"),r.a.createElement("option",null,"Brown"),r.a.createElement("option",null,"Cream"),r.a.createElement("option",null,"Dark"),r.a.createElement("option",null,"Pale")),r.a.createElement(v.a,{type:"submit",className:"btn ml-2 shadow"},"Find by style!"))))),this.state.beers&&r.a.createElement(w.a,{sm:12},r.a.createElement(P.a,{className:"card-set"},this.state.beers.map((function(e){return r.a.createElement(x,{beer:e})}))))||r.a.createElement(w.a,{sm:12},r.a.createElement("h1",null,"NO BEERS")))}}]),t}(n.Component),A=N.a.create({baseURL:"/api"});function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var G=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={email:"",username:"",password:""},e.onValueChange=e.onValueChange.bind(Object(p.a)(e)),e.signUp=e.signUp.bind(Object(p.a)(e)),e}return Object(h.a)(t,e),Object(i.a)(t,[{key:"onValueChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(a,!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},this.state,Object(c.a)({},a,n)))}},{key:"signUp",value:function(e){var t=this;e.preventDefault();var a=this.state;(function(e){var t=e.email,a=e.username,n=e.imageUrl,r=e.password;return new Promise((function(e,l){A.post("/signup",{email:t,username:a,imageUrl:n,password:r}).then((function(t){e(t.data.user)})).catch((function(e){l(e)}))}))})({email:a.email,username:a.username,imageUrl:a.imageUrl,password:a.password}).then((function(e){console.log(e),console.log(t.props),t.props.uploadUser(e),t.props.history.push("/profile/".concat(t.state.username))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"signin-bg"},r.a.createElement(w.a,{sm:3},r.a.createElement("div",{className:"signin-square"},r.a.createElement(O.a,null,r.a.createElement(g.a,{onSubmit:this.signUp},r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Control,{name:"email",placeholder:"email",required:!0,type:"email",onChange:this.onValueChange,value:this.state.email})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Control,{name:"username",placeholder:"username",required:!0,onChange:this.onValueChange,value:this.state.username})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Control,{name:"password",required:!0,type:"password",placeholder:"Password",onChange:this.onValueChange,value:this.state.password})),r.a.createElement(v.a,{type:"submit"},"Sign Up")),r.a.createElement("span",null,"Already a member? ",r.a.createElement(b.b,{to:"/signin"},"Sign in."))))))}}]),t}(n.Component),F=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={email:"",password:""},e.onValueChange=e.onValueChange.bind(Object(p.a)(e)),e.signIn=e.signIn.bind(Object(p.a)(e)),e}return Object(h.a)(t,e),Object(i.a)(t,[{key:"onValueChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(c.a)({},t,a))}},{key:"signIn",value:function(e){var t=this;e.preventDefault();var a=this.state;(function(e){var t=e.email,a=e.password;return new Promise((function(e,n){A.post("/signin",{email:t,password:a}).then((function(t){e(t.data.user)})).catch((function(e){n(e)}))}))})({email:a.email,password:a.password}).then((function(e){t.props.uploadUser(e),t.props.history.push("/profile/".concat(e.username))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"signin-bg"},r.a.createElement(w.a,{sm:3},r.a.createElement("div",{className:"signin-square"},r.a.createElement(O.a,null,r.a.createElement(g.a,{onSubmit:this.signIn},r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Control,{id:"sign-up-email",name:"email",required:!0,type:"email",placeholder:"email",onChange:this.onValueChange,value:this.state.email})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Control,{id:"sign-up-password",name:"password",required:!0,type:"password",placeholder:"Password",onChange:this.onValueChange,value:this.state.password})),r.a.createElement(v.a,{type:"submit",className:"d-flex justify-content-center"},"Sign In")),r.a.createElement("div",null," ","Not a member? ",r.a.createElement(b.b,{to:"/signup"},"Sign up")))))))}}]),t}(n.Component),I=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Error ",e.match.params.code))};function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var L=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={beers:null},a.loadBeers=a.loadBeers.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"loadBeers",value:function(){var e,t=this;(e=this.props.match.params.username,new Promise((function(t,a){D.get("/user/".concat(e)).then((function(e){console.log("response",e),t(e.data.beers)})).catch((function(e){a(e)}))}))).then((function(e){t.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(a,!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t.state,{beers:e}))})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){this.loadBeers()}},{key:"render",value:function(){var e=this.props.user;return e&&r.a.createElement(k.a,null,r.a.createElement("h2",null,"Welcome ",e.username),r.a.createElement("p",null,"You have uploaded the following beers:"),r.a.createElement("p",null,"Click ",r.a.createElement(b.b,{to:"/addbeer"},"here")," to add more"),this.state.beers&&r.a.createElement(w.a,{sm:12},r.a.createElement(P.a,{className:"card-set"},this.state.beers.map((function(e){return r.a.createElement(x,{beer:e})}))))||r.a.createElement(w.a,{sm:12},r.a.createElement("h1",null,"NO BEERS")))}}]),t}(n.Component),R=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.history.push("/error/404")}},{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(n.Component);function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function J(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(a,!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={beer:{name:"",description:"",type:"",style:"",country:"",abv:""}},a.onValueChange=a.onValueChange.bind(Object(p.a)(a)),a.addBeer=a.addBeer.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"onValueChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState({beer:J({},this.state.beer,Object(c.a)({},t,a))})}},{key:"addBeer",value:function(e){var t,a=this;e.preventDefault(),(t=this.state.beer,new Promise((function(e,a){D.post("/create",t).then((function(t){e(t.data.beer)})).catch((function(e){console.log(e),a(e)}))}))).then((function(e){console.log(e),a.props.history.push("/")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"signin-bg"},r.a.createElement(g.a,{onSubmit:this.addBeer},r.a.createElement("div",{className:"signin-square"},r.a.createElement(O.a,null,r.a.createElement(w.a,null,r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Control,{id:"beer-name",name:"name",required:!0,type:"text",placeholder:"Name",onChange:this.onValueChange,value:this.state.beer.name}))),r.a.createElement(w.a,null,r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Control,{id:"beer-country",name:"country",required:!0,placeholder:"Country",onChange:this.onValueChange,value:this.state.beer.country})))),r.a.createElement(O.a,null,r.a.createElement(w.a,null,r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Control,{as:"select",name:"type",onChange:this.onValueChange,value:this.state.beer.type},r.a.createElement("option",null,"Type..."),r.a.createElement("option",null," Ale"),r.a.createElement("option",null,"Lager"),r.a.createElement("option",null,"Malt"),r.a.createElement("option",null,"Stout")))),r.a.createElement(w.a,null,r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Control,{as:"select",name:"style",onChange:this.onValueChange,value:this.state.beer.style},r.a.createElement("option",null,"Style..."),r.a.createElement("option",null," Amber"),r.a.createElement("option",null,"Blonde"),r.a.createElement("option",null,"Brown"),r.a.createElement("option",null,"Cream"),r.a.createElement("option",null,"Dark"),r.a.createElement("option",null,"Pale")))),r.a.createElement(w.a,null,r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Control,{id:"beer-abv",name:"abv",required:!0,placeholder:"ABV",onChange:this.onValueChange,value:this.state.beer.abv})))),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Control,{id:"beer-description",name:"description",required:!0,as:"textarea",placeholder:"Add a description",rows:"3",onChange:this.onValueChange,value:this.state.beer.description})),r.a.createElement(v.a,{type:"submit",className:"d-flex justify-content-center"},"Add Beer"))))}}]),t}(n.Component),H=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={beer:null},a.loadBeer=a.loadBeer.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"loadBeer",value:function(){var e,t=this;(e=this.props.match.params.id,new Promise((function(t,a){D.get("/id/".concat(e)).then((function(e){t(e.data.beer)})).catch((function(e){a(e)}))}))).then((function(e){return t.setState({beer:e})})).catch((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){this.loadBeer()}},{key:"render",value:function(){var e=this.state.beer;return e&&r.a.createElement("div",{className:"signin-bg"},r.a.createElement("div",{className:"beer-square"},r.a.createElement("h1",null,e.name,"'s beer"),r.a.createElement("h2",null,e.style," - ",e.type),r.a.createElement("p",null,e.description),r.a.createElement("p",null,e.abv," - ",e.country)))}}]),t}(n.Component),Y=a(30),$=a.n(Y),_=a(66),K=a.n(_),Q=function(e){return r.a.createElement($.a,{expand:"lg",bg:"bg-transparent",variant:"light",className:"shadow-sm"},r.a.createElement($.a.Brand,null,r.a.createElement(b.b,{to:"/",className:"nav-link",style:{fontFamily:"Crimson Text",fontSize:"0.8em"}},"BeerCellar")),r.a.createElement($.a.Toggle,{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement($.a.Collapse,null,r.a.createElement(K.a,{className:"ml-auto"},!e.user&&r.a.createElement(n.Fragment,null,r.a.createElement(b.b,{to:"/",className:"nav-link"},"Beers"),r.a.createElement(b.b,{to:"/signin",className:"nav-link"},"Sign In"," "),r.a.createElement(b.b,{to:"/signup",className:"nav-link"},"Sign Up"," "))||r.a.createElement(n.Fragment,null,r.a.createElement(b.b,{to:"/profile/".concat(e.user.username),className:"nav-link"},e.user&&e.user.username),r.a.createElement(b.b,{to:"/",className:"nav-link"},"Beers"),r.a.createElement(b.b,{to:"/addbeer",className:"nav-link"},"Add Beer"),r.a.createElement(g.a,{inline:!0,onSubmit:e.signOut},r.a.createElement(v.a,{type:"submit",className:"nav-link",style:{background:"none",border:"none"}},"Sign Out"))))))};function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={user:null,loaded:!1},a.uploadUser=a.uploadUser.bind(Object(p.a)(a)),a.signOut=a.signOut.bind(Object(p.a)(a)),a.verifyAuthenticated=a.verifyAuthenticated.bind(Object(p.a)(a)),a.verifyUnauthenticated=a.verifyUnauthenticated.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;new Promise((function(e,t){A.get("/verify").then((function(t){var a=t.data.user.user;e(a)})).catch((function(e){t(e)}))})).then((function(t){t?e.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(a,!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t&&{user:t},{loaded:!0})):e.setState({loaded:!0})})).catch((function(e){console.log(e)}))}},{key:"uploadUser",value:function(e){this.setState({user:e})}},{key:"signOut",value:function(){var e=this;new Promise((function(e,t){A.post("/signout").then((function(t){e()})).catch((function(e){t(e)}))})).then((function(){e.setState({user:null}),e.props.history.push("/auth/signup")})).catch((function(e){console.log(e)}))}},{key:"verifyAuthenticated",value:function(){return!!this.state.user}},{key:"verifyUnauthenticated",value:function(){return!this.state.user}},{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(b.a,null,r.a.createElement(Q,{user:this.state.user,signOut:this.signOut}),r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/",exact:!0,render:function(t){return r.a.createElement(q,Object.assign({},t,{uploadUser:e.uploadUser,user:e.state.user}))}}),r.a.createElement(d.a,{path:"/signin",render:function(t){return r.a.createElement(F,Object.assign({},t,{exact:!0,uploadUser:e.uploadUser}))}}),r.a.createElement(d.a,{path:"/signup",render:function(t){return r.a.createElement(G,Object.assign({},t,{exact:!0,uploadUser:e.uploadUser}))}}),r.a.createElement(d.a,{path:"/beer/:id",render:function(e){return r.a.createElement(H,Object.assign({},e,{exact:!0}))}}),r.a.createElement(d.a,{path:"/addbeer",render:function(e){return r.a.createElement(z,Object.assign({},e,{exact:!0}))}}),r.a.createElement(d.a,{path:"/profile/:username",render:function(t){return r.a.createElement(L,Object.assign({},t,{exact:!0,user:e.state.user}))}}),r.a.createElement(d.a,{path:"/error/:code",component:I}),r.a.createElement(d.a,{path:"/",component:R}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},67:function(e,t,a){e.exports=a(127)},72:function(e,t,a){},73:function(e,t,a){}},[[67,1,2]]]);
//# sourceMappingURL=main.8e65a7b6.chunk.js.map